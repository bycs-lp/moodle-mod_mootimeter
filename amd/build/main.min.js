define("mod_mootimeter/main",["exports","core/ajax"],(function(_exports,_ajax){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0;_exports.init=()=>{var elements=document.getElementsByClassName("mootimeter_pages_li");elements&&Array.from(elements).forEach((function(element){element.addEventListener("click",(function(){var pageid=this.dataset.pageid,cmid=this.dataset.cmid;location.href="view.php?id="+cmid+"&pageid="+pageid}))}));var addnewpagebtn=document.getElementById("mootimeter_addpage");addnewpagebtn&&addnewpagebtn.addEventListener("click",(function(){var cmid=this.dataset.cmid;location.href="view.php?id="+cmid+"&a=addpage"}));var deletebtns=document.getElementsByClassName("mootimeter-delete-page-btn");deletebtns&&Array.from(deletebtns).forEach((function(element){element.addEventListener("click",(function(){var pageid=this.dataset.pageid;execDeletePage(pageid)}))}));const execDeletePage=async pageid=>{const response=await(pageid=>(0,_ajax.call)([{methodname:"mod_mootimeter_delete_page",args:{pageid:pageid}}])[0])(pageid);200==response.code?window.location.href=window.location.origin+window.location.pathname+"?id="+response.cmid:window.console.log(response.string)}}}));

//# sourceMappingURL=main.min.js.map