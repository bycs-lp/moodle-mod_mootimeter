define("mod_mootimeter/handle_clicked_element_use_dataset",["exports","core/ajax","core/log","mod_mootimeter/reload_page"],(function(_exports,_ajax,_log,_reload_page){var obj;Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_log=(obj=_log)&&obj.__esModule?obj:{default:obj};_exports.init=uniqueID=>{const obj=document.getElementById(uniqueID);document.getElementById(uniqueID)&&obj.addEventListener("click",(function(){const pageid=document.getElementById("mootimeterstate").dataset.pageid,ajaxmethode=obj.dataset.ajaxmethode,inputname=obj.dataset.name,inputvalue=obj.dataset.value,thisDataset=JSON.stringify(obj.dataset);return execStoreDataValue(ajaxmethode,pageid,inputname,inputvalue,thisDataset)}))};const execStoreDataValue=async(ajaxmethode,pageid,inputname,inputvalue,thisDataset)=>{const response=await((ajaxmethode,pageid,inputname,inputvalue,thisDataset)=>(0,_ajax.call)([{methodname:ajaxmethode,args:{pageid:pageid,inputname:inputname,inputvalue:inputvalue,thisDataset:thisDataset}}])[0])(ajaxmethode,pageid,inputname,inputvalue,thisDataset);200!=response.code&&_log.default.error(response.string),200==response.code&&_log.default.info(response.string);let options=[];if(response.options&&(options=JSON.parse(response.options)),1==response.reload||1==options.reload){const queryString=window.location.search,urlParams=new URLSearchParams(queryString);(0,_reload_page.execReloadPage)(urlParams.get("pageid"),urlParams.get("id"))}}}));

//# sourceMappingURL=handle_clicked_element_use_dataset.min.js.map