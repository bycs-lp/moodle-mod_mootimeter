{"version":3,"file":"handler_input_number.min.js","sources":["../src/handler_input_number.js"],"sourcesContent":["import Ajax from 'core/ajax';\nimport notification from 'core/notification';\n\nexport const init = () => {\n\n    // Get all up elements.\n    var ups = document.getElementsByClassName('mootimeter-number-input-btn-up');\n\n    for (let i = 0; i < ups.length; i++) {\n        // Remove old listener if exists.\n        ups[i].removeEventListener(\"click\", count_up);\n        // Finally add the new listener.\n        ups[i].addEventListener(\"click\", count_up);\n    }\n\n    // Get all down elements.\n    var downs = document.getElementsByClassName('mootimeter-number-input-btn-down');\n\n    for (let i = 0; i < downs.length; i++) {\n        // Remove old listener if exists.\n        downs[i].removeEventListener(\"click\", count_down);\n        // Finally add the new listener.\n        downs[i].addEventListener(\"click\", count_down);\n    }\n\n    /**\n     * Count num input up.\n     */\n    function count_up() {\n        var id = this.dataset.id;\n        document.getElementById(id).value = Math.floor(document.getElementById(id).value) + 1;\n        store(this, id);\n    }\n\n    /**\n     * Count num input down.\n     */\n    function count_down() {\n        var id = this.dataset.id;\n        document.getElementById(id).value = Math.floor(document.getElementById(id).value) - 1;\n        store(this, id);\n    }\n\n    /**\n     * Store the value.\n     * @param {*} obj\n     * @param {*} id\n     */\n    function store(obj, id) {\n\n        var pageid = obj.dataset.pageid;\n        var ajaxmethode = obj.dataset.ajaxmethode;\n        var inputname = obj.dataset.name;\n        var inputvalue = document.getElementById(id).value;\n        window.console.log(pageid);\n        window.console.log(ajaxmethode);\n        window.console.log(inputname);\n        window.console.log(inputvalue);\n\n        Ajax.call([{\n            methodname: ajaxmethode,\n            args: {pageid: pageid, inputname: inputname, inputvalue: inputvalue},\n            fail: notification.exception,\n        }]);\n    }\n};"],"names":["ups","document","getElementsByClassName","i","length","removeEventListener","count_up","addEventListener","downs","count_down","id","this","dataset","getElementById","value","Math","floor","store","obj","pageid","ajaxmethode","inputname","name","inputvalue","window","console","log","call","methodname","args","fail","notification","exception"],"mappings":"sYAGoB,SAGZA,IAAMC,SAASC,uBAAuB,sCAErC,IAAIC,EAAI,EAAGA,EAAIH,IAAII,OAAQD,IAE5BH,IAAIG,GAAGE,oBAAoB,QAASC,UAEpCN,IAAIG,GAAGI,iBAAiB,QAASD,cAIjCE,MAAQP,SAASC,uBAAuB,wCAEvC,IAAIC,EAAI,EAAGA,EAAIK,MAAMJ,OAAQD,IAE9BK,MAAML,GAAGE,oBAAoB,QAASI,YAEtCD,MAAML,GAAGI,iBAAiB,QAASE,qBAM9BH,eACDI,GAAKC,KAAKC,QAAQF,GACtBT,SAASY,eAAeH,IAAII,MAAQC,KAAKC,MAAMf,SAASY,eAAeH,IAAII,OAAS,EACpFG,MAAMN,KAAMD,aAMPD,iBACDC,GAAKC,KAAKC,QAAQF,GACtBT,SAASY,eAAeH,IAAII,MAAQC,KAAKC,MAAMf,SAASY,eAAeH,IAAII,OAAS,EACpFG,MAAMN,KAAMD,aAQPO,MAAMC,IAAKR,QAEZS,OAASD,IAAIN,QAAQO,OACrBC,YAAcF,IAAIN,QAAQQ,YAC1BC,UAAYH,IAAIN,QAAQU,KACxBC,WAAatB,SAASY,eAAeH,IAAII,MAC7CU,OAAOC,QAAQC,IAAIP,QACnBK,OAAOC,QAAQC,IAAIN,aACnBI,OAAOC,QAAQC,IAAIL,WACnBG,OAAOC,QAAQC,IAAIH,0BAEdI,KAAK,CAAC,CACPC,WAAYR,YACZS,KAAM,CAACV,OAAQA,OAAQE,UAAWA,UAAWE,WAAYA,YACzDO,KAAMC,sBAAaC"}