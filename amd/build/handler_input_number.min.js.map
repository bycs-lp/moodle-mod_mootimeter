{"version":3,"file":"handler_input_number.min.js","sources":["../src/handler_input_number.js"],"sourcesContent":["import {call as fetchMany} from 'core/ajax';\nimport Log from 'core/log';\n\nexport const init = (uniqueID) => {\n\n    var up = document.getElementById('up_' + uniqueID);\n    var down = document.getElementById('down_' + uniqueID);\n\n    if (up) {\n        up.addEventListener(\"click\", countUp);\n    }\n\n    if (down) {\n        down.addEventListener(\"click\", countDown);\n    }\n\n    /**\n     * Count num input up.\n     */\n    function countUp() {\n        var id = this.dataset.id;\n        if (Math.floor(document.getElementById(id).dataset.min) <= Math.floor(document.getElementById(id).value) + 1) {\n            document.getElementById(id).value = Math.floor(document.getElementById(id).value) + 1;\n            store(this, id);\n        }\n    }\n\n    /**\n     * Count num input down.\n     */\n    function countDown() {\n        var id = this.dataset.id;\n        if (Math.floor(document.getElementById(id).dataset.min) <= Math.floor(document.getElementById(id).value) - 1) {\n            document.getElementById(id).value = Math.floor(document.getElementById(id).value) - 1;\n            store(this, id);\n        }\n    }\n\n    /**\n     * Store the value.\n     * @param {*} obj\n     * @param {*} id\n     */\n    function store(obj, id) {\n\n        var pageid = obj.dataset.pageid;\n        var ajaxmethod = obj.dataset.ajaxmethod;\n        var inputname = obj.dataset.name;\n        var inputvalue = document.getElementById(id).value;\n        var thisDataset = JSON.stringify(obj.dataset);\n        setINState(ajaxmethod, pageid, inputname, inputvalue, thisDataset);\n    }\n};\n\n/**\n * Executes the call to store cb state.\n * @param {string} ajaxmethod\n * @param {int} pageid\n * @param {string} inputname\n * @param {string} inputvalue\n * @param {string} thisDataset\n * @returns\n */\nconst execSetINState = (\n    ajaxmethod,\n    pageid,\n    inputname,\n    inputvalue,\n    thisDataset\n) => fetchMany([{\n    methodname: ajaxmethod,\n    args: {\n        pageid,\n        inputname,\n        inputvalue,\n        thisDataset\n    },\n}])[0];\n\n/**\n * Store cb state.\n * @param {string} ajaxmethod\n * @param {int} pageid\n * @param {string} inputname\n * @param {string} inputvalue\n * @param {string} thisDataset\n */\nconst setINState = async(ajaxmethod, pageid, inputname, inputvalue, thisDataset) => {\n    const response = await execSetINState(ajaxmethod, pageid, inputname, inputvalue, thisDataset);\n    if (response.code != 200) {\n        Log.error(response.string);\n    }\n};"],"names":["uniqueID","up","document","getElementById","down","store","obj","id","pageid","dataset","ajaxmethod","inputname","name","inputvalue","value","thisDataset","JSON","stringify","setINState","addEventListener","this","Math","floor","min","async","response","methodname","args","execSetINState","code","error","string"],"mappings":"oQAGqBA,eAEbC,GAAKC,SAASC,eAAe,MAAQH,UACrCI,KAAOF,SAASC,eAAe,QAAUH,mBAqCpCK,MAAMC,IAAKC,QAEZC,OAASF,IAAIG,QAAQD,OACrBE,WAAaJ,IAAIG,QAAQC,WACzBC,UAAYL,IAAIG,QAAQG,KACxBC,WAAaX,SAASC,eAAeI,IAAIO,MACzCC,YAAcC,KAAKC,UAAUX,IAAIG,SACrCS,WAAWR,WAAYF,OAAQG,UAAWE,WAAYE,aA1CtDd,IACAA,GAAGkB,iBAAiB,wBAWhBZ,GAAKa,KAAKX,QAAQF,GAClBc,KAAKC,MAAMpB,SAASC,eAAeI,IAAIE,QAAQc,MAAQF,KAAKC,MAAMpB,SAASC,eAAeI,IAAIO,OAAS,IACvGZ,SAASC,eAAeI,IAAIO,MAAQO,KAAKC,MAAMpB,SAASC,eAAeI,IAAIO,OAAS,EACpFT,MAAMe,KAAMb,QAXhBH,MACAA,KAAKe,iBAAiB,wBAkBlBZ,GAAKa,KAAKX,QAAQF,GAClBc,KAAKC,MAAMpB,SAASC,eAAeI,IAAIE,QAAQc,MAAQF,KAAKC,MAAMpB,SAASC,eAAeI,IAAIO,OAAS,IACvGZ,SAASC,eAAeI,IAAIO,MAAQO,KAAKC,MAAMpB,SAASC,eAAeI,IAAIO,OAAS,EACpFT,MAAMe,KAAMb,eAqDlBW,WAAaM,MAAMd,WAAYF,OAAQG,UAAWE,WAAYE,qBAC1DU,cAzBa,EACnBf,WACAF,OACAG,UACAE,WACAE,eACC,cAAU,CAAC,CACZW,WAAYhB,WACZiB,KAAM,CACFnB,OAAAA,OACAG,UAAAA,UACAE,WAAAA,WACAE,YAAAA,gBAEJ,GAWuBa,CAAelB,WAAYF,OAAQG,UAAWE,WAAYE,aAC5D,KAAjBU,SAASI,mBACLC,MAAML,SAASM"}