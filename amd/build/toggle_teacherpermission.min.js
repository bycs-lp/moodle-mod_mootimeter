define("mod_mootimeter/toggle_teacherpermission",["exports","core/ajax","core/str","core/log"],(function(_exports,_ajax,_str,_log){var obj;Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_log=(obj=_log)&&obj.__esModule?obj:{default:obj};_exports.init=uniqueID=>{var obj=document.getElementById(uniqueID);document.getElementById(uniqueID)&&obj.addEventListener("click",(function(){var pageid=this.dataset.pageid,uniqueID=this.dataset.iconid;exectoggleteacherpermission(pageid,uniqueID)}))};const exectoggleteacherpermission=async(pageid,uniqueID)=>{const response=await(pageid=>(0,_ajax.call)([{methodname:"mod_mootimeter_toggle_teacherpermission",args:{pageid:pageid}}])[0])(pageid);if(200!=response.code&&_log.default.error(response.string),200==response.code){_log.default.info(response.string),document.getElementById(uniqueID).classList.remove("fa-eye"),document.getElementById(uniqueID).classList.remove("fa-eye-slash");const element=document.getElementById(uniqueID);if(1==response.newstate){const tooltipTeacherpermDisabled=await(0,_str.get_string)("tooltip_content_menu_teacherpermission_disabled","mod_mootimeter");element.classList.add("fa-eye"),document.getElementById("toggleteacherpermission").setAttribute("data-original-title",tooltipTeacherpermDisabled)}if(1!=response.newstate){const tooltipTeacherpermission=await(0,_str.get_string)("tooltip_content_menu_teacherpermission","mod_mootimeter");element.classList.add("fa-eye-slash"),document.getElementById("toggleteacherpermission").setAttribute("data-original-title",tooltipTeacherpermission)}document.getElementById("mootimeterstate").setAttribute("data-lastupdated",0)}}}));

//# sourceMappingURL=toggle_teacherpermission.min.js.map