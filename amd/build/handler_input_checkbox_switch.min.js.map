{"version":3,"file":"handler_input_checkbox_switch.min.js","sources":["../src/handler_input_checkbox_switch.js"],"sourcesContent":["import Ajax from 'core/ajax';\nimport notification from 'core/notification';\n\nexport const init = () => {\n\n    // Get all up elements.\n    var switches = document.getElementsByClassName('mootimeter-checkbox-switch');\n    for (let i = 0; i < switches.length; i++) {\n        // Remove old listener if exists.\n        switches[i].removeEventListener(\"click\", store);\n        // Finally add the new listener.\n        switches[i].addEventListener(\"click\", store);\n    }\n\n    /**\n     * Store the value.\n     * @param {*} obj\n     * @param {*} id\n     */\n    function store() {\n        var id = this.id;\n\n        var pageid = this.dataset.pageid;\n        var ajaxmethode = this.dataset.ajaxmethode;\n        var inputname = this.dataset.name;\n        var inputvalue = 0;\n        var thisDataset = JSON.stringify(this.dataset);\n\n        if (document.getElementById(id).checked) {\n            inputvalue = 1;\n        }\n\n        Ajax.call([{\n            methodname: ajaxmethode,\n            args: { pageid: pageid, inputname: inputname, inputvalue: inputvalue, thisDataset },\n            fail: notification.exception,\n        }]);\n    }\n}"],"names":["switches","document","getElementsByClassName","i","length","removeEventListener","store","addEventListener","id","this","pageid","dataset","ajaxmethode","inputname","name","inputvalue","thisDataset","JSON","stringify","getElementById","checked","call","methodname","args","fail","notification","exception"],"mappings":"+YAGoB,SAGZA,SAAWC,SAASC,uBAAuB,kCAC1C,IAAIC,EAAI,EAAGA,EAAIH,SAASI,OAAQD,IAEjCH,SAASG,GAAGE,oBAAoB,QAASC,OAEzCN,SAASG,GAAGI,iBAAiB,QAASD,gBAQjCA,YACDE,GAAKC,KAAKD,GAEVE,OAASD,KAAKE,QAAQD,OACtBE,YAAcH,KAAKE,QAAQC,YAC3BC,UAAYJ,KAAKE,QAAQG,KACzBC,WAAa,EACbC,YAAcC,KAAKC,UAAUT,KAAKE,SAElCV,SAASkB,eAAeX,IAAIY,UAC5BL,WAAa,iBAGZM,KAAK,CAAC,CACPC,WAAYV,YACZW,KAAM,CAAEb,OAAQA,OAAQG,UAAWA,UAAWE,WAAYA,WAAYC,YAAAA,aACtEQ,KAAMC,sBAAaC"}