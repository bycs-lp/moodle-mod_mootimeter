define("mod_mootimeter/toggle_state",["exports","core/ajax"],(function(_exports,_ajax){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0;_exports.init=uniqueID=>{var obj=document.getElementById(uniqueID);document.getElementById(uniqueID)&&obj.addEventListener("click",(function(){var pageid=this.dataset.pageid,uniqueID=this.id;exectoggleState(pageid,uniqueID)}))};const exectoggleState=async(pageid,uniqueID)=>{var statename=document.getElementById(uniqueID).dataset.togglename;const response=await((pageid,statename)=>(0,_ajax.call)([{methodname:"mod_mootimeter_toggle_state",args:{pageid:pageid,statename:statename}}])[0])(pageid,statename);if(200!=response.code&&window.console.log(response.string),200==response.code){var dataset=document.getElementById(uniqueID).dataset,iconid=dataset.iconid;document.getElementById(iconid).classList.remove(dataset.iconenabled),document.getElementById(iconid).classList.remove(dataset.icondisabled),1==response.newstate&&(document.getElementById(iconid).classList.add(dataset.iconenabled),document.getElementById(uniqueID).setAttribute("data-original-title",dataset.tooltipdisabled)),1!=response.newstate&&(document.getElementById(iconid).classList.add(dataset.icondisabled),document.getElementById(uniqueID).setAttribute("data-original-title",dataset.tooltipenabled)),document.getElementById("mootimeterstate").setAttribute("data-lastupdated",0)}}}));

//# sourceMappingURL=toggle_state.min.js.map