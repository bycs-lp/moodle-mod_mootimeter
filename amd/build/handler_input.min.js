define("mod_mootimeter/handler_input",["exports","core/ajax","core/log","core/notification"],(function(_exports,_ajax,_log,_notification){var obj;Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_log=(obj=_log)&&obj.__esModule?obj:{default:obj};_exports.init=uniqueID=>{const obj=document.getElementById(uniqueID);document.getElementById(uniqueID)&&(obj.addEventListener("focusin",(function(){document.getElementById("mootimeterstate").setAttribute("data-lockpagereload",1)})),obj.addEventListener("focusout",(function(){const id=obj.id,pageid=obj.dataset.pageid,ajaxmethode=obj.dataset.ajaxmethode,inputname=obj.dataset.name,inputvalue=document.getElementById(id).value,thisDataset=JSON.stringify(obj.dataset);return delete document.getElementById("mootimeterstate").dataset.lockpagereload,execStoreInputValue(ajaxmethode,pageid,inputname,inputvalue,thisDataset)})))};const execStoreInputValue=async(ajaxmethode,pageid,inputname,inputvalue,thisDataset)=>{let response=null;try{response=await((ajaxmethode,pageid,inputname,inputvalue,thisDataset)=>(0,_ajax.call)([{methodname:ajaxmethode,args:{pageid:pageid,inputname:inputname,inputvalue:inputvalue,thisDataset:thisDataset}}])[0])(ajaxmethode,pageid,inputname,inputvalue,thisDataset)}catch(err){(0,_notification.exception)(err)}200!=response.code&&_log.default.error(response.string),200==response.code&&_log.default.info(response.string)}}));

//# sourceMappingURL=handler_input.min.js.map