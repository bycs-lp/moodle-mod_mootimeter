define("mootimetertool_ranking/approve_phrase",["exports","core/ajax","mod_mootimeter/reload_page","mod_mootimeter/utils"],(function(_exports,_ajax,_reload_page,_utils){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0;_exports.init=(yesid,noid,radioname)=>{window.console.log('input[type="radio"][name="'+radioname+'"]');for(let elem of document.querySelectorAll('input[type="radio"][name="'+radioname+'"]'))elem.addEventListener("input",(event=>{approve(event)}));function approve(event){const id=event.target.id,pageid=document.getElementById(id).dataset.pageid,phraseid=document.getElementById(id).dataset.phraseid,togglevalue=document.getElementById(id).dataset.togglevalue;window.console.log([id,pageid,phraseid,togglevalue]),approvePhrase(id,pageid,phraseid,togglevalue)}};const approvePhrase=async(inputid,pageid,phraseid,togglevalue)=>{document.getElementById(inputid).disabled=!0;const response=await((pageid,phraseid,value)=>(0,_ajax.call)([{methodname:"mootimetertool_ranking_approve_phrase",args:{pageid:pageid,phraseid:phraseid,value:value}}])[0])(pageid,phraseid,togglevalue);if((0,_utils.removeInfoBox)("mtmt_phrase_warning"),200!=response.code&&((0,_utils.renderInfoBox)("mtmt_tool-colct-header","mtmt_phrase_warning","warning",response.string),document.getElementById(inputid).disabled=!1,document.getElementById(inputid).focus()),200==response.code){const queryString=window.location.search,urlParams=new URLSearchParams(queryString);await(0,_reload_page.execReloadPage)(urlParams.get("pageid"),urlParams.get("id"))}}}));

//# sourceMappingURL=approve_phrase.min.js.map