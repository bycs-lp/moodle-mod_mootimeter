define("mootimetertool_ranking/store_phrase",["exports","core/ajax","mod_mootimeter/reload_page","mod_mootimeter/utils"],(function(_exports,_ajax,_reload_page,_utils){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0;_exports.init=(inputid,enterid)=>{const ao=document.getElementById(inputid);ao&&ao.addEventListener("keyup",(function(event){"Enter"!==event.code&&"NumpadEnter"!==event.code||store(inputid)}));const ae=document.getElementById(enterid);function store(inputid){var pageid=document.getElementById(inputid).dataset.pageid,phrase=document.getElementById(inputid).value;storePhrase(pageid,phrase,inputid)}ae&&ae.addEventListener("click",(function(){store(inputid)}))};const storePhrase=async(pageid,phrase,inputid)=>{document.getElementById(inputid).disabled=!0;const response=await((pageid,phrase)=>(0,_ajax.call)([{methodname:"mootimetertool_ranking_store_phrase",args:{pageid:pageid,phrase:phrase}}])[0])(pageid,phrase);if((0,_utils.removeInfoBox)("mtmt_phrase_warning"),1e3!=response.code&&1001!=response.code&&1002!=response.code||((0,_utils.renderInfoBox)("mtmt_tool-colct-header","mtmt_phrase_warning","warning",response.string),document.getElementById(inputid).disabled=!1,document.getElementById(inputid).focus()),200==response.code){const queryString=window.location.search,urlParams=new URLSearchParams(queryString);await(0,_reload_page.execReloadPage)(urlParams.get("pageid"),urlParams.get("id")),await(0,_utils.delay)(100);for(var elements=document.getElementsByClassName("mtmt-wc-phraseinput"),i=0;i<elements.length;i++)1==elements.item(i).autofocus&&elements.item(i).focus()}}}));

//# sourceMappingURL=store_phrase.min.js.map