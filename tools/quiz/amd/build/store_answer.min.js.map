{"version":3,"file":"store_answer.min.js","sources":["../src/store_answer.js"],"sourcesContent":["import Ajax from 'core/ajax';\nimport notification from 'core/notification';\n\nexport const init = () => {\n\n    // Register event to input box.\n    var elements = document.getElementsByClassName(\"mtmt_answeroption\");\n    var pageid = document.getElementById('mtmt_question_section').dataset.pageid;\n\n    Array.from(elements).forEach(function (element) {\n        if (!element) {\n            return;\n        }\n        element.addEventListener('click', function () {\n            var aoid = this.dataset.aoid;\n\n            let promise = Ajax.call([{\n                methodname: 'mootimetertool_quiz_store_answer',\n                args: {\n                    pageid: pageid,\n                    aoid: aoid,\n                },\n                fail: notification.exception,\n            }]);\n\n            promise[0].then(function (results) {\n                if (results.finished) {\n                    window.location.href = results.redirecturl;\n                }\n                return;\n            }).fail();\n        });\n    });\n};"],"names":["elements","document","getElementsByClassName","pageid","getElementById","dataset","Array","from","forEach","element","addEventListener","aoid","this","Ajax","call","methodname","args","fail","notification","exception","then","results","finished","window","location","href","redirecturl"],"mappings":"mYAGoB,SAGZA,SAAWC,SAASC,uBAAuB,qBAC3CC,OAASF,SAASG,eAAe,yBAAyBC,QAAQF,OAEtEG,MAAMC,KAAKP,UAAUQ,SAAQ,SAAUC,SAC9BA,SAGLA,QAAQC,iBAAiB,SAAS,eAC1BC,KAAOC,KAAKP,QAAQM,KAEVE,cAAKC,KAAK,CAAC,CACrBC,WAAY,mCACZC,KAAM,CACFb,OAAQA,OACRQ,KAAMA,MAEVM,KAAMC,sBAAaC,aAGf,GAAGC,MAAK,SAAUC,SAClBA,QAAQC,WACRC,OAAOC,SAASC,KAAOJ,QAAQK,gBAGpCT"}