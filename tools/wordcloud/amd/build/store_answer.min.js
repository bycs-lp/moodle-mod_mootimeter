define("mootimetertool_wordcloud/store_answer",["exports","core/ajax","core/notification","core/templates"],(function(_exports,_ajax,_notification,_templates){var obj;Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_templates=(obj=_templates)&&obj.__esModule?obj:{default:obj};_exports.init=()=>{const ao=document.getElementById("mootimeter_type_answer");ao&&ao.addEventListener("keyup",(function(event){"Enter"!==event.code&&"NumpadEnter"!==event.code||store()}));const ae=document.getElementById("mootimeter_enter_answer");function store(){var pageid=document.getElementById("mootimeter_type_answer").dataset.pageid,answer=document.getElementById("mootimeter_type_answer").value;storeAnswer(pageid,answer)}ae&&ae.addEventListener("click",(function(){store()}))};const storeAnswer=async(pageid,answer)=>{const response=await((pageid,answer)=>(0,_ajax.call)([{methodname:"mootimetertool_wordcloud_store_answer",args:{pageid:pageid,answer:answer}}])[0])(pageid,answer);var infobox;if((infobox=document.getElementById("mtmt_answer_warning"))&&infobox.remove(),1e3!=response.code&&1001!=response.code&&1002!=response.code||function(notificationType,notificationString){const context={notification_id:"mtmt_answer_warning",notification_type:notificationType,notification_icon:"fa-exclamation",notification_text:notificationString};_templates.default.renderForPromise("mod_mootimeter/elements/snippet_notification",context).then((_ref2=>{let{html:html,js:js}=_ref2;return _templates.default.appendNodeContents("#mtmt_tool-colct-header",html,js),!0})).catch((error=>(0,_notification.exception)(error)))}("warning",response.string),200==response.code){const context={pill:answer,additional_class:" mootimeter-pill-inline "};_templates.default.renderForPromise("mod_mootimeter/elements/snippet_pill",context).then((_ref=>{let{html:html,js:js}=_ref;return _templates.default.appendNodeContents("#mtmt_wordcloud_pills",html,js),!0})).catch((error=>(0,_notification.exception)(error)))}document.getElementById("mootimeter_type_answer").value=""}}));

//# sourceMappingURL=store_answer.min.js.map