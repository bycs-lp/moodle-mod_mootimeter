{"version":3,"file":"redraw_wordcloud.min.js","sources":["../src/redraw_wordcloud.js"],"sourcesContent":["import Ajax from 'core/ajax';\nimport notification from 'core/notification';\n\nexport const init = () => {\n    // setInterval(function () {\n\n    //     var pageid = document.getElementById('mootimeter_type_answer').dataset.pageid;\n    //     var lastposttimestamp = document.getElementById('mootimeter_lastupdated').value;\n    //     const promise = Ajax.call([{\n    //         methodname: 'mootimetertool_wordcloud_get_answers',\n    //         args: {\n    //             pageid: pageid,\n    //             lastupdated: lastposttimestamp\n    //         },\n    //         fail: notification.exception,\n    //     }]);\n\n    //     promise[0].then(function (results) {\n    //         if (results.lastupdated == lastposttimestamp) {\n    //             return;\n    //         }\n\n    //         // Set lastupdated.\n    //         let nodelastupdated = document.getElementById('mootimeter_lastupdated');\n    //         nodelastupdated.value = results.lastupdated;\n\n    //         // Redraw wordcloud.\n    //         let mtmtcanvas = document.getElementById('wordcloudcanvas');\n    //         mtmtcanvas.setAttribute('data-answers', JSON.stringify(results.answerlist));\n    //         document.getElementById('wordcloudcanvas').dispatchEvent(new Event(\"redrawwordcloud\"));\n\n    //         return;\n    //     }).fail();\n\n    // }, 1000);\n\n};\n"],"names":[],"mappings":"4YAGoB"}